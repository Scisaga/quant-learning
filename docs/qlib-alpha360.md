# Alpha360

> **Alpha158**：158 维“传统技术指标”型因子库，偏手工设计、可解释性强。
> **Alpha360**：360 维“价格–成交量序列变换”型因子库，维度更高、更适合深度模型。


## 一、Alpha158 是什么？

在 Qlib 体系里，Alpha158 是微软 Qlib 团队提供的一套 **158 维技术因子（technical indicators）库**，基于日线的开高低收成交量等基础行情数据构造，属于“传统技术指标 + 多窗口滚动因子”的组合。

一些近期工作对 Alpha158 的描述大致一致：

* *Alpha 158: Proposed by the Microsoft Qlib team, this library includes 158 traditional technical indicators (e.g., MA, RSI) constructed from combinations over different time windows.*
* DiffSFormer 等论文则强调：这些因子覆盖 K 线形态、价格、成交量以及不同时间窗口上的滚动因子。

结合文献和 Qlib 实现，可以概括 Alpha158 的特征：

1. **输入数据**：
   只依赖标准的日线价量信息（open / high / low / close / volume 等）。

2. **因子类型（典型）**：

   * 收益 / 动量类：n 日收益率、累计收益、相对强弱等；
   * 波动类：高低价差、真实波幅、滚动标准差等；
   * 均线 / 价量比：n 日均价、均量、价量比；
   * 其他常见技术指标：类似 MA、RSI 等在不同窗口上的组合。

3. **维度与冗余**：

   * 总维度 158；
   * 多篇论文提到 Alpha158 中大量因子之间高度相关，往往会再做一次特征选择（例如 RFE 选出前 20 个指标，再喂给模型）。

4. **在 Qlib 中的实现形态**：

   * 官方文档把 Alpha158 做成一个内置 `DataHandler`，可以直接通过配置使用；
   * 也支持在外部 DataFrame（只含 OHLCV）上调用 Alpha158 库生成对应因子列。

直观理解：
**Alpha158 = “把常见技术分析指标系统化 + 多窗口扩展之后的 158 维特征库”**，偏传统量化/技术分析风格，可解释性好，但存在一定冗余。

---

## 二、Alpha360 是什么？

Alpha360 同样由 Qlib 团队提出，是一个 **360 维价格–成交量因子库**，但设计思路更“程式化”和“序列化”，不再是单纯罗列技术指标，而是对历史价格序列做系统的归一化与相对变换。

最近几篇使用 Alpha360 的论文有比较清晰的总结：

* *Alpha360: A more comprehensive factor library provided by Microsoft Qlib, containing 360 factors constructed via normalization over historical price sequences (e.g., multi-period relative values of closing prices and volumes).*
* Stockformer 系列工作则说明：Alpha360 将 360 个价量因子分成 **6 大类，每类 60 个**，覆盖不同的价格与成交量组合。

概括 Alpha360 的结构特点：

1. **输入数据**：
   同样基于日线的 open / high / low / close / volume 等基础行情。

2. **构造方式**（典型描述）：

   * 对历史价格序列做多期相对变化、差分、比值等；
   * 引入多窗口（多期），对 close、volume 等构造一组 `Ref` / 相对比例类的因子；
   * 通过归一化，把不同股票/不同时点的价量数据映射到可比较的尺度。

   Stockformer 给出的例子中，价量因子被划分为若干类别，如 “收盘价相对序列”、“成交量相对序列”等，每类下再按不同的历史滞后期构造一列因子（例如 CLOSE0–CLOSE59 表示不同滞后窗口的归一化收盘价特征）。

3. **维度与适配对象**：

   * 总维度 360，比 Alpha158 更高；
   * 有研究专门指出：在 Qlib 提供的两类因子中，**Alpha360 维度更高，更适合 GRU、LSTM、Transformer 这类深度网络**，而 Alpha158 也常用但维度较低。

4. **在 Qlib 中的角色**：

   * 早期文档中，`DataHandler` 默认使用的就是 Alpha360；
   * 官方 benchmark 中，Alpha360 往往作为“深度模型”的标准输入数据集，与 Alpha158 并列呈现模型性能。

直观理解：
**Alpha360 = “从价格–成交量时间序列出发，系统化做相对变换与归一化得到的 360 维序列型价量特征库”**，专门为深度时序模型准备。

---

## 三、Alpha158 与 Alpha360 的区别

可以从几个维度对比。

### 1）设计理念

* **Alpha158：技术指标式、人工经验导向**

  * 因子设计明显受传统技术分析思路影响：移动平均、波动率、价量比、RSI 等，再在 5/10/20/… 多个窗口上展开。
  * 更像一份“技术指标超市”：每一列很容易解释为某种人类熟悉的信号。

* **Alpha360：序列变换式、算法导向**

  * 从“序列归一化 + 多期相对关系”出发，通过统一模板批量生成 360 个价量因子；
  * 不是拿“MACD / RSI”这类名字，而是针对不同的价格/成交量序列，系统地做 “Ref+normalize+ratio” 等运算，偏工程化设计。

### 2）维度与信息密度

* **维度**：Alpha158 = 158 维；Alpha360 = 360 维。
* **信息结构**：

  * Alpha158：每一列都可以理解为“某种技术指标在某个窗口的值”，人类解释友好，但存在高度共线性；
  * Alpha360：每一列更像是“归一化后的序列采样点或相对关系”，单因子的直观含义较弱，但整体覆盖了更丰富的价格–成交量多期模式。

### 3）与模型的适配性

* 文献中有明确评价：

  * Alpha360 由于维度更高、结构更规则，**更适合 GRU/LSTM/Transformer 等深度模型**作为原始输入；
  * Alpha158 则常被用作：

    * 传统机器学习（LightGBM、XGBoost、线性模型等）的输入；
    * 或者作为“因子池”，通过 RFE、LASSO 等方法做二次筛选，选出信息量更集中的子集再给模型。

可以理解为：

* **Alpha158 + 传统 ML / 因子选股**：强调解释性和“人类可读”的特征；
* **Alpha360 + 深度时序模型**：强调从大量价量“原始信号变换”中由模型自动学习结构。

### 4）泛化与冗余

近期对“因子库 vs 自动生成因子”的研究（如 RD-Agent-Quant）指出：

* 直接使用 Alpha158 / Alpha360 等静态因子库，随着市场 regime 变化，会出现 **信号衰减和冗余带来的波动**；
* 动态因子生成（如 RD-Factor）在部分实验中用更少的自适应因子组就能跑赢 Alpha360 等大库。

这侧面说明：

* Alpha158 / Alpha360 更多是 **“开箱可用的标准基线”**；
* 真正追求长期鲁棒收益时，往往需要在此基础上做 **因子筛选 / 动态扩展 / 与文本、事件等多模态数据融合**。

---

## 四、Alpha158 与 Alpha360 的联系

尽管差异明显，两者在 Qlib 生态中的角色高度统一：

1. **同源：都由 Qlib 团队提出并维护**

   * 多篇综述直接把 Alpha158 和 Alpha360 一起称为“Qlib 提供的两类标准因子库”，并说明很多模型（GRU、GATs、Transformer、HIST、TRA 等）都是以它们为输入。

2. **共同用途：作为“标准实验基准”**

   * 大量论文会在 Alpha158 和 Alpha360 上分别报告 IC / RankIC / 年化收益等指标，用于横向对比模型表现；
   * 许多新方法（TRA、HIST、DiffsFormer、Graph-based GNN 等）都先在这两个因子库上验证效果，再在更复杂的多源数据上扩展。

3. **实现形态：都封装为 DataHandler / factor system**

   * Qlib 文档与 issue 说明：两者都以“因子系统”的形式存在，支持从原始 OHLCV 数据生成对应的 panel 特征；
   * 使用方式非常类似，主要差异是配置中指定的 handler class 与数据路径不同。

4. **在后续工作中的地位：一个“静态起点”**

   * 新一代方法（如 RD-Agent-Quant 的 AutoAlpha / RD-Factor）往往是 **“从 Alpha158 or Alpha360 出发，做搜索/重组/扩展”**，把它们当作起始因子池。

---

## 五、小结：如何在实践中理解与使用这两个库

综合文献和 Qlib 生态，可以这样概括两者的定位：

* **Alpha158**

  * 较低维（158）、更接近“人类技术指标直觉”的因子库；
  * 适合作为：

    * 传统 ML / 树模型的输入（LightGBM、XGBoost 等）；
    * 因子研究的出发点（做特征选择、打分、构建多因子策略）；
  * 优点是解释性好、特征规模适中，缺点是冗余较多、对深度网络可能不够“丰富”。

* **Alpha360**

  * 更高维（360）、序列化和归一化程度更高的价量因子库；
  * 适合作为：

    * GRU / LSTM / Transformer / HIST 等深度模型的标准输入；
    * 想让模型“自己学模式”的场景。
  * 优点是信息量大、结构规则，缺点是单因子可解释性稍弱，且容易过拟合，需要正则化与模型设计配合。

两者都已经成为 Qlib 社区的事实标准：

> **Alpha158 更像“技术分析型因子池”，Alpha360 更像“深度学习友好的价量序列特征库”。**
> 在实际工程中，常见做法是：
>
> * 先在 Alpha158 / Alpha360 上跑通基线与 backtest；
> * 再在此基础上叠加自定义因子、选择/压缩因子或做动态因子生成。
